<!doctype html>
<html lang="en-GB">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Does TDD have relevance in an AI assisted developer workflow?</title>
  <meta name="description" content="Can the principles of Test-Driven Development (TDD) be applied to AI code generation? Let&#39;s look at the concept of Prompt-Driven Development (PDD), where we guide AI by applying the principles of TDD.">
  <meta property="og:type" content="article">
  <meta property="og:url" content="https://philparsons.co.uk/blog/the-relevance-of-tdd-in-an-ai-workflow/">
  <meta property="og:title" content="Does TDD have relevance in an AI assisted developer workflow?">
  <meta property="og:description" content="Can the principles of Test-Driven Development (TDD) be applied to AI code generation? Let&#39;s look at the concept of Prompt-Driven Development (PDD), where we guide AI by applying the principles of TDD.">
  <meta property="og:image" content="https://philparsons.co.uk/img/socialcard/the-relevance-of-tdd-in-an-ai-workflow.jpg">

  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://philparsons.co.uk/blog/the-relevance-of-tdd-in-an-ai-workflow/">
  <meta property="twitter:title" content="Does TDD have relevance in an AI assisted developer workflow?">
  <meta property="twitter:description" content="Can the principles of Test-Driven Development (TDD) be applied to AI code generation? Let&#39;s look at the concept of Prompt-Driven Development (PDD), where we guide AI by applying the principles of TDD.">
  <meta property="twitter:image" content="https://philparsons.co.uk/img/socialcard/the-relevance-of-tdd-in-an-ai-workflow.jpg">

  <link rel="icon" href="/img/icon.png">
  <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="Phil Parsons">
  <style>.ctc-image {
  @media (hover: hover) {
    &::part(button) {
      opacity: 0;
      transition: opacity 150ms;
    }

    &:hover::part(button) {
      opacity: 1;
    }
  }
}

copy-to-clipboard {
  /* Keep these raw color values here until there is a light theme for code blocks */
  --ctc-button-color: var(--color-white);
  --ctc-button-background: var(--color-neutral-700);
}

back-to-top {
  --btt-button-background: var(--color-bg-action);
  --btt-button-background-hover: var(--color-bg-action-hover);
  --btt-button-color: var(--color-text-primary);
}

figcaption {
  font-size: 0.875rem;
  text-align: center;
}

.post {
  max-width: 100%;
  overflow: clip;
}

.post-header {
  background: var(--color-bg-glass);
  backdrop-filter: var(--glass-blur);
  border: 1px solid var(--color-border-glass);
  border-radius: 16px;
  box-shadow: var(--glass-shadow);
  margin: 0 0 var(--spacing-md);
  padding: var(--spacing-md) 0 0;
}

.post-title {
  font-size: 3rem;
  font-weight: 700;
  line-height: 1.1;
}

.post-meta {
  align-items: baseline;
  display: flex;
  gap: var(--spacing-md);
  justify-content: right;
  padding: var(--spacing-md) 0 var(--spacing-xs);
}

.post-date {
  color: var(--color-text-secondary);
  font-size: 0.875rem;
}

.post-content {
  color: var(--color-text-secondary);

  blockquote {
    border-left: solid 4px var(--color-border-primary);
    font-style: italic;
    padding: var(--spacing-xs) var(--spacing-md);
    margin: 0 0 var(--spacing-md);

    p {
      margin-bottom: 0;
    }
  }

  p,
  ol,
  ul {
    margin: 0 0 var(--spacing-md);
    text-wrap: pretty;
  }

  ol,
  ul {
    padding: 0 0 0 var(--spacing-xl);
  }

  li {
    margin: 0 0 var(--spacing-sm);
  }

  p code {
    font-size: 0.875rem;
  }

  h2,
  h3,
  h4 {
    color: var(--color-text-primary);
    font-weight: 600;
    margin: var(--spacing-2xl) 0 var(--spacing-md);
    text-wrap: pretty;
  }

  h2 {
    font-size: 1.75rem;
    line-height: 1.2;
  }

  h3 {
    font-size: 1.25rem;
    line-height: 1.4;
  }

  h4 {
    font-size: 1rem;
    line-height: 1.4;
  }

  pre {
    font-size: 0.875rem;
    margin: 0 0 var(--spacing-xl);
    overflow: auto;
    padding: var(--spacing-sm);
  }

  img {
    background: var(--color-bg-secondary);
    height: auto;
    margin: 0 auto;
    max-width: 100%;
    padding: var(--spacing-md);
  }
}

figure {
  margin: 0 0 var(--spacing-md);
  text-align: center;
}

.post-description {
  font-size: 1.125rem;
  line-height: 1.4;
  font-style: italic;
}

#share-fallback {
  background: black;
  border: none;
  border-radius: 1rem;
  left: 50%;
  min-width: 280px;
  padding: var(--spacing-3xl);
  top: 50%;
  transform: translate(-50%, -50%);

  &::backdrop {
    background: rgb(0 0 0 / 40%);
  }
}

.share-fallback-title {
  font-size: 1.25rem;
  margin: 0 0 var(--spacing-xs);
}

.share-fallback-links {
  display: flex;
  flex-flow: column;
  gap: var(--spacing-xs);
  list-style: none;
  margin: 0;
  padding: 0;

  a,
  a:visited,
  a:hover {
    color: white;
    text-decoration: none;
  }
}

.share-btn {
  align-items: center;
  background: var(--color-primary-500);
  border: none;
  border-radius: 999px;
  color: var(--color-black);
  cursor: pointer;
  display: inline-flex;
  font-weight: 600;
  font-size: 0.875rem;
  gap: var(--spacing-xs);
  line-height: 1;
  padding: var(--spacing-2xs) var(--spacing-sm);
  transition:
    background 200ms,
    color 200ms;

  @media (hover: hover) {
    &:hover {
      background: var(--color-primary-600);
    }
  }

  @media (prefers-color-scheme: light) {
    color: white;
  }
}

@media (width >= 600px) {
  .post-header {
    padding: var(--spacing-xl) 0 0;
    margin: 0 0 var(--spacing-xl);
  }
}

@media (width >= 1024px) {
  .post-header {
    padding: var(--spacing-2xl) 0 0;
    margin: 0 0 var(--spacing-2xl);
  }

  .post-content {
    font-size: 1.125rem;

    p,
    ol,
    ul {
      margin-bottom: var(--spacing-lg);
    }

    p {
      code {
        font-size: 1rem;
      }
    }

    h2,
    h3,
    h4 {
      margin-top: var(--spacing-3xl);
    }

    pre {
      padding: var(--spacing-md);
      margin-bottom: var(--spacing-2xl);
    }

    h2 {
      font-size: 2rem;
    }
  }

  .post-title {
    font-size: 4rem;
  }

  .post-description {
    font-size: 1.5rem;
  }
}

@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@supports (animation-timeline: view()) {
  .post-content pre {
    animation: fade-in-up 1s ease-out both;
    animation-timeline: view();
    animation-range: entry 0% cover 30%;
  }
}

@media (prefers-reduced-motion: reduce) {
  .post-content pre,
  .post-header {
    animation: none;
  }
}

@keyframes zoom-title {
  to {
    transform: rotate(-10deg) scale(1.5);
    opacity: 0.5;
  }
}

@supports (animation-timeline: scroll()) {
  .post-header {
    animation: zoom-title linear both;
    animation-timeline: scroll();
    animation-range: 0 500px;
  }
}
/**
 * a11y-dark theme for JavaScript, CSS, and HTML
 * Based on the okaidia theme: https://github.com/PrismJS/prism/blob/gh-pages/themes/prism-okaidia.css
 * @author ericwbailey
 */

code[class*="language-"],
pre[class*="language-"] {
  color: #f8f8f2;
  background: none;
  font-family: Consolas, Monaco, "Andale Mono", "Ubuntu Mono", monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  tab-size: 4;
  hyphens: none;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
  background: var(--codeblock-bg);
  backdrop-filter: var(--glass-blur);
  border: 1px solid var(--color-border-glass);
  border-radius: 12px;
  box-shadow: var(--glass-shadow);
}

/* Inline code */
:not(pre) > code[class*="language-"] {
  padding: 0.1em;
  border-radius: 0.3em;
  white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
  color: #d4d0ab;
}

.token.punctuation {
  color: #fefefe;
}

.token.property,
.token.tag,
.token.constant,
.token.symbol,
.token.deleted {
  color: #ffa07a;
}

.token.boolean,
.token.number {
  color: #00e0e0;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
  color: #abe338;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string,
.token.variable {
  color: #00e0e0;
}

.token.atrule,
.token.attr-value,
.token.function {
  color: #ffd700;
}

.token.keyword {
  color: #00e0e0;
}

.token.regex,
.token.important {
  color: #ffd700;
}

.token.important,
.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}

.token.entity {
  cursor: help;
}

@media (forced-colors: active) {
  code[class*="language-"],
  pre[class*="language-"] {
    color: CanvasText;
    background: Canvas;
  }

  :not(pre) > code[class*="language-"],
  pre[class*="language-"] {
    background: Canvas;
  }

  .token.important {
    background: Highlight;
    color: Canvas;
    font-weight: normal;
  }

  .token.atrule,
  .token.attr-value,
  .token.function,
  .token.keyword,
  .token.operator,
  .token.selector {
    font-weight: bold;
  }

  .token.attr-value,
  .token.comment,
  .token.doctype,
  .token.function,
  .token.keyword,
  .token.operator,
  .token.property,
  .token.string {
    color: Highlight;
  }

  .token.attr-value,
  .token.url {
    font-weight: normal;
  }
}
:root {
  color-scheme: dark;

  --color-neutral: lch(50% 5 80);
  --color-accent: lch(65% 55 165);

  --color-white: lch(98% 1 80);
  --color-black: lch(8% 3 80);

  --color-primary-50: lch(from var(--color-accent) 97% 15 h);
  --color-primary-100: lch(from var(--color-accent) 94% 25 h);
  --color-primary-200: lch(from var(--color-accent) 88% 35 h);
  --color-primary-300: lch(from var(--color-accent) 78% 45 h);
  --color-primary-400: lch(from var(--color-accent) 70% c h);
  --color-primary-500: lch(from var(--color-accent) l c h);
  --color-primary-600: lch(from var(--color-accent) 55% c h);
  --color-primary-700: lch(from var(--color-accent) 45% c h);
  --color-primary-800: lch(from var(--color-accent) 35% c h);
  --color-primary-900: lch(from var(--color-accent) 25% 40 h);
  --color-primary-950: lch(from var(--color-accent) 15% 25 h);

  --color-neutral-50: lch(from var(--color-neutral) 97% 2 h);
  --color-neutral-100: lch(from var(--color-neutral) 94% 3 h);
  --color-neutral-200: lch(from var(--color-neutral) 88% 4 h);
  --color-neutral-300: lch(from var(--color-neutral) 78% 5 h);
  --color-neutral-400: lch(from var(--color-neutral) 65% c h);
  --color-neutral-500: lch(from var(--color-neutral) l c h);
  --color-neutral-600: lch(from var(--color-neutral) 40% c h);
  --color-neutral-700: lch(from var(--color-neutral) 30% 6 h);
  --color-neutral-800: lch(from var(--color-neutral) 20% 6 h);
  --color-neutral-900: lch(from var(--color-neutral) 14% 5 h);
  --color-neutral-950: lch(from var(--color-neutral) 10% 4 h);

  --size-0: 0;
  --size-0-5: 0.125rem;
  --size-1: 0.25rem;
  --size-2: 0.5rem;
  --size-3: 0.75rem;
  --size-4: 1rem;
  --size-5: 1.25rem;
  --size-6: 1.5rem;
  --size-7: 1.75rem;
  --size-8: 2rem;
  --size-9: 2.25rem;
  --size-10: 2.5rem;
  --size-11: 2.75rem;
  --size-12: 3rem;

  --color-border-primary: lch(from var(--color-accent) 40% 20 h / 0.3);
  --color-border-glass: rgba(255, 255, 255, 0.1);

  --color-bg-primary: var(--color-black);
  --color-bg-secondary: lch(from var(--color-neutral) 12% 4 h);
  --color-bg-glass: rgba(255, 255, 255, 0.05);
  --glass-blur: blur(12px);
  --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
  --color-bg-action: var(--color-neutral-800);
  --color-bg-action-hover: var(--color-primary-800);

  --color-link: var(--color-primary-400);
  --color-link-hover: var(--color-primary-300);
  --color-link-underline: var(--color-primary-600);
  --color-link-hover-underline: var(--color-primary-400);
  --color-link-visited: var(--color-primary-500);
  --color-link-visited-underline: var(--color-primary-700);
  --color-link-focus: var(--color-link-hover);
  --color-link-focus-underline: var(--color-link-hover);

  --color-icon: var(--color-primary-400);
  --color-icon-hover: var(--color-primary-300);

  --color-text-primary: var(--color-white);
  --color-text-secondary: var(--color-neutral-300);

  --spacing-2xs: var(--size-1);
  --spacing-xs: var(--size-2);
  --spacing-sm: var(--size-3);
  --spacing-md: var(--size-4);
  --spacing-lg: var(--size-5);
  --spacing-xl: var(--size-6);
  --spacing-2xl: var(--size-7);
  --spacing-3xl: var(--size-8);

  --codeblock-bg: var(--color-bg-glass);
}

*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
}

body {
  background:
    radial-gradient(
      ellipse at 70% 20%,
      lch(from var(--color-accent) 30% 40 h / 0.3) 0%,
      transparent 50%
    ),
    radial-gradient(
      ellipse at 20% 80%,
      lch(from var(--color-neutral) 20% 10 h / 0.5) 0%,
      transparent 40%
    ),
    linear-gradient(160deg, lch(12% 5 80) 0%, lch(6% 3 80) 100%);
  background-attachment: fixed;
  color: var(--color-text-primary);
  font-family: "Noto Sans", sans-serif;
  font-optical-sizing: auto;
  font-size: 16px;
  font-style: normal;
  font-variation-settings: "wdth" 100;
  font-weight: 400;
  line-height: 1.5;
  min-height: 100vh;
  -webkit-font-smoothing: antialiased;
}

a {
  color: var(--color-link);
  font-weight: 500;
  position: relative;
  text-decoration: underline;
  text-underline-offset: 0.25rem;
  text-decoration-color: var(--color-link-underline);
  transition:
    text-decoration-color 200ms,
    color 200ms;

  &:visited {
    color: var(--color-link-visited);
    text-decoration-color: var(--color-link-visited-underline);
    font-weight: 400;
  }

  &:focus-visible {
    color: var(--color-link-focus);
    text-decoration-color: var(--color-link-focus-underline);
  }

  &:active {
    top: 0.125rem;
  }

  @media (hover: hover) {
    &:hover {
      color: var(--color-link-hover);
      text-decoration-color: var(--color-link-hover-underline);
    }
  }
}

@view-transition {
  navigation: auto;
}

/* Utility Classes */
.visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip-path: inset(50%);
  white-space: nowrap;
  border: 0;
}

.container {
  max-width: 1024px;
  margin: 0 auto;
  padding: 0 var(--spacing-md);
}

.glass {
  background: var(--color-bg-glass);
  backdrop-filter: var(--glass-blur);
  border: 1px solid var(--color-border-glass);
  box-shadow: var(--glass-shadow);
}

.glass-card {
  background: var(--color-bg-glass);
  backdrop-filter: var(--glass-blur);
  border: 1px solid var(--color-border-glass);
  border-radius: 16px;
  box-shadow: var(--glass-shadow);
}

.site-header {
  padding: var(--spacing-md) 0;

  .container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--spacing-md);
  }
}

.site-header-link {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  text-decoration: none;
  color: var(--color-text-primary);

  &:visited {
    color: var(--color-text-primary);
  }

  &:hover {
    color: var(--color-primary-400);
  }
}

.site-header-headshot {
  display: block;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  object-fit: cover;
  outline: 2px solid var(--color-primary-500);
  outline-offset: 1px;
}

.site-header-name {
  font-size: 1.25rem;
  font-weight: 700;
  display: none;

  @media (min-width: 480px) {
    display: block;
  }
}

.site-header-nav {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);

  @media (min-width: 480px) {
    gap: var(--spacing-md);
  }

  > a {
    color: var(--color-text-secondary);
    text-decoration: none;
    transition: color 0.2s;

    &:visited {
      color: var(--color-text-secondary);
    }

    &:hover {
      color: var(--color-primary-400);
    }
  }
}

.site-header-social {
  display: flex;
  gap: var(--spacing-xs);
  list-style: none;
  padding: 0;
  margin: 0;

  a {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: var(--color-bg-glass);
    backdrop-filter: var(--glass-blur);
    border: 1px solid var(--color-border-glass);
    color: var(--color-icon);
    transition:
      transform 0.2s,
      background 0.2s,
      color 0.2s;

    &:hover {
      transform: translateY(-2px);
      background: var(--color-primary-500);
      color: white;
    }
  }

  svg {
    display: block;
  }
}

.site-footer {
  padding: var(--spacing-2xl) 0;
  text-align: center;
  color: var(--color-text-secondary);
  font-size: 0.875rem;
  border-top: 1px solid var(--color-border-glass);

  .container {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: var(--spacing-xs);
  }

  span[aria-hidden] {
    display: none;
  }

  p {
    margin: 0;
  }

  a {
    font-weight: 400;
  }

  @media (min-width: 600px) {
    .container {
      flex-direction: row;
      gap: var(--spacing-md);
    }

    span[aria-hidden] {
      display: inline;
    }
  }
}

/* Light Theme */
@media (prefers-color-scheme: light) {
  :root {
    color-scheme: light;

    --color-accent: lch(50% 45 185);

    --color-primary-50: lch(from var(--color-accent) 97% 15 h);
    --color-primary-100: lch(from var(--color-accent) 94% 25 h);
    --color-primary-200: lch(from var(--color-accent) 88% 35 h);
    --color-primary-300: lch(from var(--color-accent) 78% 45 h);
    --color-primary-400: lch(from var(--color-accent) 45% c h);
    --color-primary-500: lch(from var(--color-accent) l c h);
    --color-primary-600: lch(from var(--color-accent) 40% c h);
    --color-primary-700: lch(from var(--color-accent) 35% c h);
    --color-primary-800: lch(from var(--color-accent) 28% c h);
    --color-primary-900: lch(from var(--color-accent) 22% 40 h);
    --color-primary-950: lch(from var(--color-accent) 15% 25 h);

    --color-border-primary: lch(from var(--color-accent) 50% 20 h / 0.3);
    --color-border-glass: rgba(0, 0, 0, 0.1);

    --color-bg-primary: lch(98% 1 80);
    --color-bg-secondary: lch(95% 2 80);
    --color-bg-glass: rgba(255, 255, 255, 0.25);
    --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.06);
    --color-bg-action: var(--color-neutral-200);
    --color-bg-action-hover: var(--color-primary-200);

    --color-link: var(--color-primary-600);
    --color-link-hover: var(--color-primary-700);
    --color-link-underline: var(--color-primary-400);
    --color-link-hover-underline: var(--color-primary-500);
    --color-link-visited: var(--color-primary-700);
    --color-link-visited-underline: var(--color-primary-400);
    --color-link-focus: var(--color-link-hover);
    --color-link-focus-underline: var(--color-link-hover);

    --color-icon: var(--color-primary-600);
    --color-icon-hover: var(--color-primary-700);

    --color-text-primary: var(--color-black);
    --color-text-secondary: var(--color-neutral-600);

    --codeblock-bg: rgba(20, 20, 25, 0.9);
  }

  body {
    background:
      radial-gradient(
        ellipse at 70% 20%,
        lch(90% 25 185 / 0.4) 0%,
        transparent 50%
      ),
      radial-gradient(
        ellipse at 20% 80%,
        lch(92% 20 185 / 0.35) 0%,
        transparent 40%
      ),
      linear-gradient(160deg, lch(99% 1 185) 0%, lch(97% 2 185) 100%);
  }
}</style>
  <script defer="" src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon='{"token": "86e36e0634bb461e84a1b6a61f287b46"}'></script>

  <title>Does TDD have relevance in an AI assisted developer workflow?</title>
</head>

<body>
  
<header class="site-header">
  <div class="container">
    <a href="/" class="site-header-link">
      <picture><source type="image/webp" srcset="/img/vI_4A5wr5c-36.webp 36w"><img loading="lazy" decoding="async" src="/img/vI_4A5wr5c-36.jpeg" alt="" class="site-header-headshot" width="36" height="36"></picture>
      <span class="site-header-name">Phil Parsons</span>
    </a>
    <nav class="site-header-nav">
      <a href="/blog/">Blog</a>
      <ul class="site-header-social">
        <li><a href="https://github.com/p-m-p" aria-label="GitHub">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg>
        </a></li>
        <li><a href="https://linkedin.com/in/phil-parsons-webdev" aria-label="LinkedIn">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect width="4" height="12" x="2" y="9"></rect><circle cx="4" cy="4" r="2"></circle></svg>
        </a></li>
        <li><a href="/feed/feed.xml" aria-label="RSS Feed">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg>
        </a></li>
      </ul>
    </nav>
  </div>
</header>


<article class="post">
  <header class="post-header">
    <div class="container">
      <h1 class="post-title" style="view-transition-name: does-tdd-have-relevance-in-an-ai-assisted-developer-workflow">Does TDD have relevance in an AI assisted developer workflow?</h1>

      <div class="post-meta">
        <div class="post-date"><time datetime="2025-04-27">27 April 2025</time></div>

        <share-button>
          <button class="share-btn" slot="button" popovertarget="share-fallback">
            Share
            <span class="share-btn-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 17 20 12 15 7"></polyline><path d="M4 18v-2a4 4 0 0 1 4-4h12"></path></svg>
            </span>
          </button>

          <div popover="" id="share-fallback">
            <h2 class="share-fallback-title">Share this post</h2>
            <ul class="share-fallback-links">
              <li>
                <a href="https://bsky.app/intent/compose?text=Does%20TDD%20have%20relevance%20in%20an%20AI%20assisted%20developer%20workflow%3F%20https://philparsons.co.uk//blog/the-relevance-of-tdd-in-an-ai-workflow/">ü¶ã Share on Bluesky</a>
              </li>
              <li>
                <a href="https://www.linkedin.com/shareArticle?url=https://philparsons.co.uk//blog/the-relevance-of-tdd-in-an-ai-workflow/&title=Does%20TDD%20have%20relevance%20in%20an%20AI%20assisted%20developer%20workflow%3F">üè¢ Share on LinkedIn</a>
              </li>
              <li>
                <a href="https://x.com/intent/post?url=https://philparsons.co.uk//blog/the-relevance-of-tdd-in-an-ai-workflow/&text=Does%20TDD%20have%20relevance%20in%20an%20AI%20assisted%20developer%20workflow%3F&via=phil_parsons">
                  üí© Share on X
                </a>
              </li>
            </ul>
          </div>
        </share-button>
      </div>
    </div>
  </header>

  <main class="post-content container">
    <p class="post-description">Can the principles of Test-Driven Development (TDD) be applied to AI code generation? Let&#39;s look at the concept of Prompt-Driven Development (PDD), where we guide AI by applying the principles of TDD.</p>
    <h2>A shared benefit of TDD and AI assisted development</h2>
<p>With a traditional software development process like Test-Driven Development
(TDD), instead of writing code first, we write tests that define the expected
behavior. A common approach for TDD named <a href="https://www.jamesshore.com/v2/blog/2005/red-green-refactor">Red ‚Üí Green ‚Üí
Refactor</a> breaks the development process into an iterative
cycle of three distinct phases:</p>
<ol>
<li><strong>Red</strong>: think through the problem and create tests that cover the desired
output</li>
<li><strong>Green</strong>: implements the quickest solution to make these test pass</li>
<li><strong>Refactor</strong>: update to improve aspects like structure, code reuse and
readability</li>
</ol>
<p>People often associate TDD with writing tests before implementation but the real
value comes from breaking down and delivering requirements in small increments.
When generating code with AI we front-load the development process in a similar
way by providing enough context and implementation detail in a prompt, a
<a href="https://andrewships.substack.com/p/prompt-driven-development">Prompt-Driven Development</a> workflow (PDD).</p>
<h2>A Comparison of TDD and PDD</h2>
<p>Let's compare the process of adding a new function, using both TDD and PDD, from
the following technical specification.</p>
<blockquote>
<p>Create a lazy initialisation function for modules that will only initialise
the module on first call and return the initialised module on repeat calls.
The function should return a new function that returns the initialised module
when called.</p>
</blockquote>
<h3>Writing tests and code with TDD</h3>
<p>With TDD we analyze the specification before creating the minimal code structure
so that we can outline tests that define and assert the core functionality we
intend to add in this iteration, the Red stage.</p>
<copy-to-clipboard><pre class="language-ts"><code class="language-ts"><span class="token keyword">import</span> <span class="token punctuation">{</span> lazyInit <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./lazyInit"</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">"lazyInit"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">"initialises module on first call"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> mod <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> init <span class="token operator">=</span> vi<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mockReturnValue</span><span class="token punctuation">(</span>mod<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> lazyMod <span class="token operator">=</span> <span class="token function">lazyInit</span><span class="token punctuation">(</span>init<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">expect</span><span class="token punctuation">(</span>init<span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toHaveBeenCalled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">lazyMod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span>mod<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>init<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalledTimes</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">"returns initialised module on repeat calls"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> init <span class="token operator">=</span> vi<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mockReturnValue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">"hello"</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> lazyMod <span class="token operator">=</span> <span class="token function">lazyInit</span><span class="token punctuation">(</span>init<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> first <span class="token operator">=</span> <span class="token function">lazyMod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> second <span class="token operator">=</span> <span class="token function">lazyMod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">expect</span><span class="token punctuation">(</span>first<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span>second<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>init<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalledTimes</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></copy-to-clipboard>
<p>At this stage the tests fail so we write just enough code to make them pass and
move from Red to Green.</p>
<copy-to-clipboard><pre class="language-ts"><code class="language-ts"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">lazyInit</span><span class="token punctuation">(</span><span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> mod<span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>mod <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      mod <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> mod<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></copy-to-clipboard>
<p>From the green stage we can refactor the code to improve things like structure,
code reuse and readability. The example uses TypeScript so we'd define some
proper generic types for the module initialisation parameter and returned
function here.</p>
<h3>Generating tests and code with PDD</h3>
<p>To generate the function and tests with AI we follow a similar process but focus
first on the prompt rather than add any code or tests. Using an AI chat
interface, <a href="https://www.anthropic.com/claude">Claude</a> here, we provide the high level specification and
outline the implementation details including the tests.</p>
<copy-to-clipboard><pre class="language-text"><code class="language-text">Create a lazy initialisation function for modules that will only initialise
the module on first call and return the initialised module on repeat calls.
The function should return a new function that returns the initialised module
when called.

Here's the function specification:
- The code is written in TypeScript
- The function is called lazyInit and takes a single function argument
- The argument is called fn and returns the initialised module when called

Add a test suite with Vitest that tests:
- The module is initialised on first call
- The initialised module is returned on repeat calls</code></pre></copy-to-clipboard>
<p>AI does a decent job with this prompt and generates code that covers the
specification, not too different from what I wrote by hand.</p>
<copy-to-clipboard><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token generic-function"><span class="token function">lazyInit</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">T</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> instance<span class="token operator">:</span> <span class="token constant">T</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>instance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      instance <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></copy-to-clipboard>
<p>The tests run and pass so we can't really relate to the Red aspect of the
initial phase but we did benefit in the same way when writing the prompt. The
generated test code could do with a bit of refinement but could have provided
some context here to match existing standards.</p>
<copy-to-clipboard><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> describe<span class="token punctuation">,</span> test<span class="token punctuation">,</span> expect<span class="token punctuation">,</span> vi <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"vitest"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> lazyInit <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./lazyInit"</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">"lazyInit"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"initialize module on first call"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> mockInit <span class="token operator">=</span> vi<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span> data<span class="token operator">:</span> <span class="token string">"test"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> getModule <span class="token operator">=</span> <span class="token function">lazyInit</span><span class="token punctuation">(</span>mockInit<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">getModule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">expect</span><span class="token punctuation">(</span>mockInit<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalledTimes</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token punctuation">{</span> data<span class="token operator">:</span> <span class="token string">"test"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"return cached module on subsequent calls"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> mockInit <span class="token operator">=</span> vi<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span> data<span class="token operator">:</span> <span class="token string">"test"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> getModule <span class="token operator">=</span> <span class="token function">lazyInit</span><span class="token punctuation">(</span>mockInit<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">getModule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// First call</span>
    <span class="token keyword">const</span> secondResult <span class="token operator">=</span> <span class="token function">getModule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Second call</span>
    <span class="token keyword">const</span> thirdResult <span class="token operator">=</span> <span class="token function">getModule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Third call</span>

    <span class="token function">expect</span><span class="token punctuation">(</span>mockInit<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalledTimes</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>secondResult<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token punctuation">{</span> data<span class="token operator">:</span> <span class="token string">"test"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>thirdResult<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token punctuation">{</span> data<span class="token operator">:</span> <span class="token string">"test"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></copy-to-clipboard>
<h3>Refactoring in both workflows</h3>
<p>In both of the code examples we reached the green stage with tests that pass so
can now start the refactoring process. It doesn't matter if we refactor with
manual edits or code generation but we shouldn't need to touch the tests in
either workflow unless for anything other than correction.</p>
<h2>Prompt ‚Üí Generate ‚Üí Refactor</h2>
<p>With AI code generation we document our thought process and design in the
prompt. Due to the speed of development with AI the need to write tests first
becomes less relevant but the iterative process of making changes in small, well
defined increments remains as relevant as ever. Both TDD and PDD share key
principles:</p>
<ul>
<li><strong>Upfront Design</strong>: Planning the architecture and structure before
implementation helps identify challenges early and ensures scalability.</li>
<li><strong>Safety Net of Tests</strong>: Tests ensure expected behavior and catch bugs or
regressions during changes.</li>
<li><strong>Living Documentation</strong>: Tests serve as a reference for feature requirements
and expected behavior.</li>
<li><strong>Incremental Development</strong>: Breaking changes into small, manageable steps
reduces errors and simplifies debugging.</li>
<li><strong>Refactoring for Improvement</strong>: Enhancing code structure, readability, and
re-usability ensures maintainability without altering behavior.</li>
</ul>
<p>Like TDD, we can define the PDD process as a cycle of three stages:</p>
<copy-to-clipboard data-url="/img/blog/the-relevance-of-tdd-in-an-ai-workflow/pdd.png" class="ctc-image">
  <figure>
    <picture><source type="image/webp" srcset="/img/bYcHTdL7uq-737.webp 737w"><img loading="lazy" decoding="async" src="/img/bYcHTdL7uq-737.jpeg" alt="Diagram that shows the three stages of the Prompt-Driven Development process" width="737" height="600"></picture>
    <figcaption>
      Prompt, generate, refactor stages of the Prompt-Driven Development process
    </figcaption>
  </figure>
</copy-to-clipboard>
<ul>
<li><strong>Prompt</strong>: think through the problem and create a prompt that covers the
desired output</li>
<li><strong>Generate</strong>: review the generated code, with an emphasis on test correctness,
from the prompt and apply it to the implementation</li>
<li><strong>Refactor</strong>: update to improve aspects like structure, code reuse and
readability</li>
</ul>
<p>We can embrace change in the tools with which we create code but the core
principles of how we understand problems and create innovative solutions to
solve them remains the same. To create safe, scalable and maintainable systems
we need to own the process and not fall victim to hype surrounding the
capabilities of our tools.</p>

  </main>

</article>

<footer class="site-footer">
  <div class="container">
    <p>&copy; Phil Parsons</p>
    <span aria-hidden="true">&middot;</span>
    <p xmlns:cc="http://creativecommons.org/ns#">Content licensed under <a href="https://creativecommons.org/licenses/by/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer">CC BY 4.0</a></p>
  </div>
</footer>


<back-to-top data-scroll-behavior="smooth"></back-to-top>


  

<script src="https://cdn.jsdelivr.net/npm/@parsonic/all@1.1.3/min.js" defer=""></script>

</body>

</html>
