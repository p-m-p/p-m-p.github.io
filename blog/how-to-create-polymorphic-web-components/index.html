<!doctype html>
<html lang="en-GB">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>How to create polymorhpic web components</title>
  <meta name="description" content="The slot element provides us with the tools to create polymorhpic custom elements. This post explores how a tab element within a tabbed navigation section can be used with a Next.js link component.">
  <meta property="og:type" content="article">
  <meta property="og:url" content="https://philparsons.co.uk/blog/how-to-create-polymorphic-web-components/">
  <meta property="og:title" content="How to create polymorhpic web components">
  <meta property="og:description" content="The slot element provides us with the tools to create polymorhpic custom elements. This post explores how a tab element within a tabbed navigation section can be used with a Next.js link component.">
  <meta property="og:image" content="https://philparsons.co.uk/img/socialcard/home.jpg">

  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://philparsons.co.uk/blog/how-to-create-polymorphic-web-components/">
  <meta property="twitter:title" content="How to create polymorhpic web components">
  <meta property="twitter:description" content="The slot element provides us with the tools to create polymorhpic custom elements. This post explores how a tab element within a tabbed navigation section can be used with a Next.js link component.">
  <meta property="twitter:image" content="https://philparsons.co.uk/img/socialcard/home.jpg">

  <link rel="icon" href="/img/icon.png">
  <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="Phil Parsons">
  <style>.ctc-image {
  @media (hover: hover) {
    &::part(button) {
      opacity: 0;
      transition: opacity 150ms;
    }

    &:hover::part(button) {
      opacity: 1;
    }
  }
}

copy-to-clipboard {
  /* Keep these raw color values here until there is a light theme for code blocks */
  --ctc-button-color: var(--color-white);
  --ctc-button-background: var(--color-neutral-700);
}

back-to-top {
  --btt-button-background: var(--color-bg-action);
  --btt-button-background-hover: var(--color-bg-action-hover);
  --btt-button-color: var(--color-text-primary);
}

figcaption {
  font-size: 0.875rem;
  text-align: center;
}

.post {
  max-width: 100%;
  overflow: clip;
}

.post-header {
  background: var(--color-bg-glass);
  backdrop-filter: var(--glass-blur);
  border-top: 1px solid var(--color-border-glass);
  border-bottom: 1px solid var(--color-border-glass);
  box-shadow: var(--glass-shadow);
  margin: 0 0 var(--spacing-md);
  padding: var(--spacing-md) 0 0;
}

.post-title {
  font-size: 3rem;
  font-weight: 700;
  line-height: 1.1;
}

.post-meta {
  align-items: baseline;
  display: flex;
  gap: var(--spacing-md);
  justify-content: right;
  padding: var(--spacing-md) 0 var(--spacing-xs);
}

.post-date {
  color: var(--color-text-secondary);
  font-size: 0.875rem;
}

.post-content {
  color: var(--color-text-secondary);

  blockquote {
    border-left: solid 4px var(--color-border-primary);
    font-style: italic;
    padding: var(--spacing-xs) var(--spacing-md);
    margin: 0 0 var(--spacing-md);

    p {
      margin-bottom: 0;
    }
  }

  p,
  ol,
  ul {
    margin: 0 0 var(--spacing-md);
    text-wrap: pretty;
  }

  ol,
  ul {
    padding: 0 0 0 var(--spacing-xl);
  }

  li {
    margin: 0 0 var(--spacing-sm);
  }

  p code {
    font-size: 0.875rem;
  }

  h2,
  h3,
  h4 {
    color: var(--color-text-primary);
    font-weight: 600;
    margin: var(--spacing-2xl) 0 var(--spacing-md);
    text-wrap: pretty;
  }

  h2 {
    font-size: 1.75rem;
    line-height: 1.2;
  }

  h3 {
    font-size: 1.25rem;
    line-height: 1.4;
  }

  h4 {
    font-size: 1rem;
    line-height: 1.4;
  }

  pre {
    font-size: 0.875rem;
    margin: 0 0 var(--spacing-xl);
    overflow: auto;
    padding: var(--spacing-sm);
  }

  img {
    background: var(--color-bg-secondary);
    height: auto;
    margin: 0 auto;
    max-width: 100%;
    padding: var(--spacing-md);
  }
}

figure {
  margin: 0 0 var(--spacing-md);
  text-align: center;
}

.post-description {
  font-size: 1.125rem;
  line-height: 1.4;
  font-style: italic;
}

#share-fallback {
  background: black;
  border: none;
  border-radius: 1rem;
  left: 50%;
  min-width: 280px;
  padding: var(--spacing-3xl);
  top: 50%;
  transform: translate(-50%, -50%);

  &::backdrop {
    background: rgb(0 0 0 / 40%);
  }
}

.share-fallback-title {
  font-size: 1.25rem;
  margin: 0 0 var(--spacing-xs);
}

.share-fallback-links {
  display: flex;
  flex-flow: column;
  gap: var(--spacing-xs);
  list-style: none;
  margin: 0;
  padding: 0;

  a,
  a:visited,
  a:hover {
    color: white;
    text-decoration: none;
  }
}

.share-btn {
  align-items: center;
  background: var(--color-primary-500);
  border: none;
  border-radius: 999px;
  color: var(--color-black);
  cursor: pointer;
  display: inline-flex;
  font-weight: 600;
  font-size: 0.875rem;
  gap: var(--spacing-xs);
  line-height: 1;
  padding: var(--spacing-2xs) var(--spacing-sm);
  transition:
    background 200ms,
    color 200ms;

  @media (hover: hover) {
    &:hover {
      background: var(--color-primary-600);
    }
  }

  @media (prefers-color-scheme: light) {
    color: white;
  }
}

@media (width >= 600px) {
  .post-header {
    padding: var(--spacing-xl) 0 0;
    margin: 0 0 var(--spacing-xl);
  }
}

@media (width >= 1024px) {
  .post-header {
    padding: var(--spacing-2xl) 0 0;
    margin: 0 0 var(--spacing-2xl);
  }

  .post-content {
    font-size: 1.125rem;

    p,
    ol,
    ul {
      margin-bottom: var(--spacing-lg);
    }

    p {
      code {
        font-size: 1rem;
      }
    }

    h2,
    h3,
    h4 {
      margin-top: var(--spacing-3xl);
    }

    pre {
      padding: var(--spacing-md);
      margin-bottom: var(--spacing-2xl);
    }

    h2 {
      font-size: 2rem;
    }
  }

  .post-title {
    font-size: 4rem;
  }

  .post-description {
    font-size: 1.5rem;
  }
}

@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@supports (animation-timeline: view()) {
  .post-content pre {
    animation: fade-in-up 1s ease-out both;
    animation-timeline: view();
    animation-range: entry 0% cover 30%;
  }
}

@media (prefers-reduced-motion: reduce) {
  .post-content pre,
  .post-header {
    animation: none;
  }
}

@keyframes zoom-title {
  to {
    transform: rotate(-10deg) scale(1.5);
    opacity: 0.5;
  }
}

@supports (animation-timeline: scroll()) {
  .post-header {
    animation: zoom-title linear both;
    animation-timeline: scroll();
    animation-range: 0 500px;
  }
}
/**
 * a11y-dark theme for JavaScript, CSS, and HTML
 * Based on the okaidia theme: https://github.com/PrismJS/prism/blob/gh-pages/themes/prism-okaidia.css
 * @author ericwbailey
 */

code[class*="language-"],
pre[class*="language-"] {
  color: #f8f8f2;
  background: none;
  font-family: Consolas, Monaco, "Andale Mono", "Ubuntu Mono", monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  tab-size: 4;
  hyphens: none;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
  background: var(--codeblock-bg);
  backdrop-filter: var(--glass-blur);
  border: 1px solid var(--color-border-glass);
  border-radius: 12px;
  box-shadow: var(--glass-shadow);
}

/* Inline code */
:not(pre) > code[class*="language-"] {
  padding: 0.1em;
  border-radius: 0.3em;
  white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
  color: #d4d0ab;
}

.token.punctuation {
  color: #fefefe;
}

.token.property,
.token.tag,
.token.constant,
.token.symbol,
.token.deleted {
  color: #ffa07a;
}

.token.boolean,
.token.number {
  color: #00e0e0;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
  color: #abe338;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string,
.token.variable {
  color: #00e0e0;
}

.token.atrule,
.token.attr-value,
.token.function {
  color: #ffd700;
}

.token.keyword {
  color: #00e0e0;
}

.token.regex,
.token.important {
  color: #ffd700;
}

.token.important,
.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}

.token.entity {
  cursor: help;
}

@media (forced-colors: active) {
  code[class*="language-"],
  pre[class*="language-"] {
    color: CanvasText;
    background: Canvas;
  }

  :not(pre) > code[class*="language-"],
  pre[class*="language-"] {
    background: Canvas;
  }

  .token.important {
    background: Highlight;
    color: Canvas;
    font-weight: normal;
  }

  .token.atrule,
  .token.attr-value,
  .token.function,
  .token.keyword,
  .token.operator,
  .token.selector {
    font-weight: bold;
  }

  .token.attr-value,
  .token.comment,
  .token.doctype,
  .token.function,
  .token.keyword,
  .token.operator,
  .token.property,
  .token.string {
    color: Highlight;
  }

  .token.attr-value,
  .token.url {
    font-weight: normal;
  }
}
:root {
  color-scheme: dark;

  --color-neutral: lch(50% 5 80);
  --color-accent: lch(65% 55 165);

  --color-white: lch(98% 1 80);
  --color-black: lch(8% 3 80);

  --color-primary-50: lch(from var(--color-accent) 97% 15 h);
  --color-primary-100: lch(from var(--color-accent) 94% 25 h);
  --color-primary-200: lch(from var(--color-accent) 88% 35 h);
  --color-primary-300: lch(from var(--color-accent) 78% 45 h);
  --color-primary-400: lch(from var(--color-accent) 70% c h);
  --color-primary-500: lch(from var(--color-accent) l c h);
  --color-primary-600: lch(from var(--color-accent) 55% c h);
  --color-primary-700: lch(from var(--color-accent) 45% c h);
  --color-primary-800: lch(from var(--color-accent) 35% c h);
  --color-primary-900: lch(from var(--color-accent) 25% 40 h);
  --color-primary-950: lch(from var(--color-accent) 15% 25 h);

  --color-neutral-50: lch(from var(--color-neutral) 97% 2 h);
  --color-neutral-100: lch(from var(--color-neutral) 94% 3 h);
  --color-neutral-200: lch(from var(--color-neutral) 88% 4 h);
  --color-neutral-300: lch(from var(--color-neutral) 78% 5 h);
  --color-neutral-400: lch(from var(--color-neutral) 65% c h);
  --color-neutral-500: lch(from var(--color-neutral) l c h);
  --color-neutral-600: lch(from var(--color-neutral) 40% c h);
  --color-neutral-700: lch(from var(--color-neutral) 30% 6 h);
  --color-neutral-800: lch(from var(--color-neutral) 20% 6 h);
  --color-neutral-900: lch(from var(--color-neutral) 14% 5 h);
  --color-neutral-950: lch(from var(--color-neutral) 10% 4 h);

  --size-0: 0;
  --size-0-5: 0.125rem;
  --size-1: 0.25rem;
  --size-2: 0.5rem;
  --size-3: 0.75rem;
  --size-4: 1rem;
  --size-5: 1.25rem;
  --size-6: 1.5rem;
  --size-7: 1.75rem;
  --size-8: 2rem;
  --size-9: 2.25rem;
  --size-10: 2.5rem;
  --size-11: 2.75rem;
  --size-12: 3rem;

  --color-border-primary: lch(from var(--color-accent) 40% 20 h / 0.3);
  --color-border-glass: rgba(255, 255, 255, 0.1);

  --color-bg-primary: var(--color-black);
  --color-bg-secondary: lch(from var(--color-neutral) 12% 4 h);
  --color-bg-glass: rgba(255, 255, 255, 0.05);
  --glass-blur: blur(12px);
  --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
  --color-bg-action: var(--color-neutral-800);
  --color-bg-action-hover: var(--color-primary-800);

  --color-link: var(--color-primary-400);
  --color-link-hover: var(--color-primary-300);
  --color-link-underline: var(--color-primary-600);
  --color-link-hover-underline: var(--color-primary-400);
  --color-link-visited: var(--color-primary-500);
  --color-link-visited-underline: var(--color-primary-700);
  --color-link-focus: var(--color-link-hover);
  --color-link-focus-underline: var(--color-link-hover);

  --color-icon: var(--color-primary-400);
  --color-icon-hover: var(--color-primary-300);

  --color-text-primary: var(--color-white);
  --color-text-secondary: var(--color-neutral-300);

  --spacing-2xs: var(--size-1);
  --spacing-xs: var(--size-2);
  --spacing-sm: var(--size-3);
  --spacing-md: var(--size-4);
  --spacing-lg: var(--size-5);
  --spacing-xl: var(--size-6);
  --spacing-2xl: var(--size-7);
  --spacing-3xl: var(--size-8);

  --codeblock-bg: var(--color-bg-glass);
}

*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
}

body {
  background:
    radial-gradient(
      ellipse at 70% 20%,
      lch(from var(--color-accent) 30% 40 h / 0.3) 0%,
      transparent 50%
    ),
    radial-gradient(
      ellipse at 20% 80%,
      lch(from var(--color-neutral) 20% 10 h / 0.5) 0%,
      transparent 40%
    ),
    linear-gradient(160deg, lch(12% 5 80) 0%, lch(6% 3 80) 100%);
  background-attachment: fixed;
  color: var(--color-text-primary);
  font-family: "Noto Sans", sans-serif;
  font-optical-sizing: auto;
  font-size: 16px;
  font-style: normal;
  font-variation-settings: "wdth" 100;
  font-weight: 400;
  line-height: 1.5;
  min-height: 100vh;
  -webkit-font-smoothing: antialiased;
}

a {
  color: var(--color-link);
  font-weight: 500;
  position: relative;
  text-decoration: underline;
  text-underline-offset: 0.25rem;
  text-decoration-color: var(--color-link-underline);
  transition:
    text-decoration-color 200ms,
    color 200ms;

  &:visited {
    color: var(--color-link-visited);
    text-decoration-color: var(--color-link-visited-underline);
    font-weight: 400;
  }

  &:focus-visible {
    color: var(--color-link-focus);
    text-decoration-color: var(--color-link-focus-underline);
  }

  &:active {
    top: 0.125rem;
  }

  @media (hover: hover) {
    &:hover {
      color: var(--color-link-hover);
      text-decoration-color: var(--color-link-hover-underline);
    }
  }
}

@view-transition {
  navigation: auto;
}

/* Utility Classes */
.visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip-path: inset(50%);
  white-space: nowrap;
  border: 0;
}

.container {
  max-width: 1024px;
  margin: 0 auto;
  padding: 0 var(--spacing-md);
}

.glass {
  background: var(--color-bg-glass);
  backdrop-filter: var(--glass-blur);
  border: 1px solid var(--color-border-glass);
  box-shadow: var(--glass-shadow);
}

.glass-card {
  background: var(--color-bg-glass);
  backdrop-filter: var(--glass-blur);
  border: 1px solid var(--color-border-glass);
  border-radius: 16px;
  box-shadow: var(--glass-shadow);
}

.site-header {
  padding: var(--spacing-md) 0;

  .container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--spacing-md);
  }
}

.site-header-link {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  text-decoration: none;
  color: var(--color-text-primary);

  &:visited {
    color: var(--color-text-primary);
  }

  &:hover {
    color: var(--color-primary-400);
  }
}

.site-header-headshot {
  display: block;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  object-fit: cover;
  outline: 2px solid var(--color-primary-500);
  outline-offset: 1px;
}

.site-header-name {
  font-size: 1.25rem;
  font-weight: 700;
  display: none;

  @media (min-width: 480px) {
    display: block;
  }
}

.site-header-nav {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);

  @media (min-width: 480px) {
    gap: var(--spacing-md);
  }

  > a {
    color: var(--color-text-secondary);
    text-decoration: none;
    transition: color 0.2s;

    &:visited {
      color: var(--color-text-secondary);
    }

    &:hover {
      color: var(--color-primary-400);
    }
  }
}

.site-header-social {
  display: flex;
  gap: var(--spacing-xs);
  list-style: none;
  padding: 0;
  margin: 0;

  a {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: var(--color-bg-glass);
    backdrop-filter: var(--glass-blur);
    border: 1px solid var(--color-border-glass);
    color: var(--color-icon);
    transition:
      transform 0.2s,
      background 0.2s,
      color 0.2s;

    &:hover {
      transform: translateY(-2px);
      background: var(--color-primary-500);
      color: white;
    }
  }

  svg {
    display: block;
  }
}

.site-footer {
  padding: var(--spacing-2xl) 0;
  text-align: center;
  color: var(--color-text-secondary);
  font-size: 0.875rem;
  border-top: 1px solid var(--color-border-glass);

  .container {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: var(--spacing-xs);
  }

  span[aria-hidden] {
    display: none;
  }

  p {
    margin: 0;
  }

  a {
    font-weight: 400;
  }

  @media (min-width: 600px) {
    .container {
      flex-direction: row;
      gap: var(--spacing-md);
    }

    span[aria-hidden] {
      display: inline;
    }
  }
}

/* Light Theme */
@media (prefers-color-scheme: light) {
  :root {
    color-scheme: light;

    --color-accent: lch(50% 45 185);

    --color-primary-50: lch(from var(--color-accent) 97% 15 h);
    --color-primary-100: lch(from var(--color-accent) 94% 25 h);
    --color-primary-200: lch(from var(--color-accent) 88% 35 h);
    --color-primary-300: lch(from var(--color-accent) 78% 45 h);
    --color-primary-400: lch(from var(--color-accent) 45% c h);
    --color-primary-500: lch(from var(--color-accent) l c h);
    --color-primary-600: lch(from var(--color-accent) 40% c h);
    --color-primary-700: lch(from var(--color-accent) 35% c h);
    --color-primary-800: lch(from var(--color-accent) 28% c h);
    --color-primary-900: lch(from var(--color-accent) 22% 40 h);
    --color-primary-950: lch(from var(--color-accent) 15% 25 h);

    --color-border-primary: lch(from var(--color-accent) 50% 20 h / 0.3);
    --color-border-glass: rgba(0, 0, 0, 0.1);

    --color-bg-primary: lch(98% 1 80);
    --color-bg-secondary: lch(95% 2 80);
    --color-bg-glass: rgba(255, 255, 255, 0.25);
    --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.06);
    --color-bg-action: var(--color-neutral-200);
    --color-bg-action-hover: var(--color-primary-200);

    --color-link: var(--color-primary-600);
    --color-link-hover: var(--color-primary-700);
    --color-link-underline: var(--color-primary-400);
    --color-link-hover-underline: var(--color-primary-500);
    --color-link-visited: var(--color-primary-700);
    --color-link-visited-underline: var(--color-primary-400);
    --color-link-focus: var(--color-link-hover);
    --color-link-focus-underline: var(--color-link-hover);

    --color-icon: var(--color-primary-600);
    --color-icon-hover: var(--color-primary-700);

    --color-text-primary: var(--color-black);
    --color-text-secondary: var(--color-neutral-600);

    --codeblock-bg: rgba(20, 20, 25, 0.9);
  }

  body {
    background:
      radial-gradient(
        ellipse at 70% 20%,
        lch(90% 25 185 / 0.4) 0%,
        transparent 50%
      ),
      radial-gradient(
        ellipse at 20% 80%,
        lch(92% 20 185 / 0.35) 0%,
        transparent 40%
      ),
      linear-gradient(160deg, lch(99% 1 185) 0%, lch(97% 2 185) 100%);
  }
}</style>
  <script defer="" src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon='{"token": "86e36e0634bb461e84a1b6a61f287b46"}'></script>

  <title>How to create polymorhpic web components</title>
</head>

<body>
  
<header class="site-header">
  <div class="container">
    <a href="/" class="site-header-link">
      <picture><source type="image/webp" srcset="/img/vI_4A5wr5c-36.webp 36w"><img loading="lazy" decoding="async" src="/img/vI_4A5wr5c-36.jpeg" alt="" class="site-header-headshot" width="36" height="36"></picture>
      <span class="site-header-name">Phil Parsons</span>
    </a>
    <nav class="site-header-nav">
      <a href="/blog/">Blog</a>
      <ul class="site-header-social">
        <li><a href="https://github.com/p-m-p" aria-label="GitHub">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg>
        </a></li>
        <li><a href="https://linkedin.com/in/phil-parsons-webdev" aria-label="LinkedIn">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect width="4" height="12" x="2" y="9"></rect><circle cx="4" cy="4" r="2"></circle></svg>
        </a></li>
        <li><a href="/feed/feed.xml" aria-label="RSS Feed">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg>
        </a></li>
      </ul>
    </nav>
  </div>
</header>


<article class="post">
  <header class="post-header">
    <div class="container">
      <h1 class="post-title" style="view-transition-name: how-to-create-polymorhpic-web-components">How to create polymorhpic web components</h1>

      <div class="post-meta">
        <div class="post-date"><time datetime="2025-01-05">05 January 2025</time></div>

        <share-button>
          <button class="share-btn" slot="button" popovertarget="share-fallback">
            Share
            <span class="share-btn-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 17 20 12 15 7"></polyline><path d="M4 18v-2a4 4 0 0 1 4-4h12"></path></svg>
            </span>
          </button>

          <div popover="" id="share-fallback">
            <h2 class="share-fallback-title">Share this post</h2>
            <ul class="share-fallback-links">
              <li>
                <a href="https://bsky.app/intent/compose?text=How%20to%20create%20polymorhpic%20web%20components%20https://philparsons.co.uk//blog/how-to-create-polymorphic-web-components/">ü¶ã Share on Bluesky</a>
              </li>
              <li>
                <a href="https://www.linkedin.com/shareArticle?url=https://philparsons.co.uk//blog/how-to-create-polymorphic-web-components/&title=How%20to%20create%20polymorhpic%20web%20components">üè¢ Share on LinkedIn</a>
              </li>
              <li>
                <a href="https://x.com/intent/post?url=https://philparsons.co.uk//blog/how-to-create-polymorphic-web-components/&text=How%20to%20create%20polymorhpic%20web%20components&via=phil_parsons">
                  üí© Share on X
                </a>
              </li>
            </ul>
          </div>
        </share-button>
      </div>
    </div>
  </header>

  <main class="post-content container">
    <p class="post-description">The slot element provides us with the tools to create polymorhpic custom elements. This post explores how a tab element within a tabbed navigation section can be used with a Next.js link component.</p>
    <h2>Polymorphic components</h2>
<p>React frameworks often have a concept of component polymorphism. You can see
examples of this in the <code>component</code> prop of <a href="https://mui.com/material-ui/guides/composition/#component-prop">MUI</a> and
<a href="https://mantine.dev/guides/polymorphic/">Mantine</a> or the <a href="https://www.radix-ui.com/primitives/docs/utilities/slot">Slot</a> element in Radix. This
polymorphism provides a mechanism to render an alternative element than the
default use case but have the same styling and behaviours applied. In <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_custom_elements">web
components</a> features of the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/slot">slot</a> element provide
similar results.</p>
<h2>Tabbed navigation components</h2>
<p>Take a set of web components for a tabbed navigation section as an example. By
default the tab element displays a button that shows an associated tab panel
when clicked. The components need updating to support the use of a single tab
panel where the tabs render as links to navigate between the different sections
of tab content.</p>
<copy-to-clipboard><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-tabs</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-tab</span><span class="token punctuation">></span></span>Tab one<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-tab</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-tab</span><span class="token punctuation">></span></span>Tab two<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-tab</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-tab</span><span class="token punctuation">></span></span>Tab three<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-tab</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-tabs</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-tabpanel</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Selected tab content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-tabpanel</span><span class="token punctuation">></span></span></code></pre></copy-to-clipboard>
<p>The <code>my-tab</code> component implementation uses <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_shadow_DOM">Shadow DOM</a> with a
template that has a default slot for the button label and applies styling to the
button.</p>
<copy-to-clipboard><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
    <span class="token selector">button</span> <span class="token punctuation">{</span>
      <span class="token comment">/* button styles */</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre></copy-to-clipboard>
<p>Trying to use the component with a link in the slot as it stands results in
rendering the anchor element inside the button. To show a link <em>instead</em> of the
button it could render an anchor tag in the presence of an <code>href</code> or a click
event listener applied to the tab could drive the navigation but neither option
works well. In application development a framework often provides a link
component tied to a router so the tab should support this.</p>
<copy-to-clipboard><pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- Ends up with the anchor inside the button --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-tab</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/tab-page<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Link tab<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-tab</span><span class="token punctuation">></span></span>

<span class="token comment">&lt;!--
  This could work but isn't very progressive and won't
  allow the use of framework components
--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-tab</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/tab-page<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Link tab<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-tab</span><span class="token punctuation">></span></span></code></pre></copy-to-clipboard>
<h2>Layering slots</h2>
<p>To solve the problem with polymorphism in the tab element a second, named, slot
around the button replaces it with the provided element.</p>
<copy-to-clipboard><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
    <span class="token selector">button</span> <span class="token punctuation">{</span>
      <span class="token comment">/* button styles */</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre></copy-to-clipboard>
<p>Layering the slots in this way allows the element to support either a label for
the button as before or another element to replace it. This example shows a
React component implementation of the tab navigation that uses the slot
attribute on a Next.js <a href="https://nextjs.org/docs/app/building-your-application/routing/linking-and-navigating#link-component">Link component</a> to replace the button.</p>
<copy-to-clipboard><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> Link <span class="token keyword">from</span> <span class="token string">"next/link"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">TabNavigation</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> sections <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-tabs</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>sections<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> title<span class="token punctuation">,</span> path <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-tab</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>path<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>path<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
            </span><span class="token punctuation">{</span>title<span class="token punctuation">}</span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-tab</span><span class="token punctuation">></span></span>
      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-tabs</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></copy-to-clipboard>
<h2>Styling slotted elements</h2>
<p>The named slot replaces the button but the button styling doesn't get applied to
the anchor element. To resolve this an update to the style selector targets the
slotted element as well as the button using the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/::slotted"><code>::slotted()</code></a>
pseudo-element selector.</p>
<copy-to-clipboard><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
    <span class="token selector">button,
    ::slotted(*)</span> <span class="token punctuation">{</span>
      <span class="token comment">/* button styles */</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre></copy-to-clipboard>
<p>Now the styling applies to any slotted element but the selector may also specify
certain elements like an anchor or other selectors like a class name.</p>
<copy-to-clipboard><pre class="language-css"><code class="language-css"><span class="token selector">::slotted(a)</span> <span class="token punctuation">{</span>
  <span class="token comment">/* anchor styles */</span>
<span class="token punctuation">}</span>

<span class="token selector">::slotted(.link)</span> <span class="token punctuation">{</span>
  <span class="token comment">/* .link styles */</span>
<span class="token punctuation">}</span></code></pre></copy-to-clipboard>

  </main>

</article>

<footer class="site-footer">
  <div class="container">
    <p>&copy; Phil Parsons</p>
    <span aria-hidden="true">&middot;</span>
    <p xmlns:cc="http://creativecommons.org/ns#">Content licensed under <a href="https://creativecommons.org/licenses/by/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer">CC BY 4.0</a></p>
  </div>
</footer>


<back-to-top data-scroll-behavior="smooth"></back-to-top>


  

<script src="https://cdn.jsdelivr.net/npm/@parsonic/all@1.1.3/min.js" defer=""></script>

</body>

</html>
